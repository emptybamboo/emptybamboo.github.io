(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{441:function(t,s,a){"use strict";a.r(s);var e=a(65),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"svn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#svn"}},[t._v("#")]),t._v(" svn")]),t._v(" "),a("h2",{attrs:{id:"搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建"}},[t._v("#")]),t._v(" 搭建")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("首先需要在服务器上安装docker,以及docker-compose")])]),t._v(" "),a("li",[a("p",[t._v("然后从"),a("a",{attrs:{href:"https://blog.51cto.com/u_1472521/3797613",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程"),a("OutboundLink")],1),t._v("中学习如何使用docker-compose去安装svn远程服务")])]),t._v(" "),a("li",[a("p",[t._v("首先创建docker-compose配置文件")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.7'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("svn-server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" elleflorio/svn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" svn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./svn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/home/svn\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TZ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Asia/Shanghai\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 3690"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3690")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 13690"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("在服务器上进入配置文件放置的目录,执行"),a("code",[t._v("docker-compose up -d")])])]),t._v(" "),a("li",[a("p",[t._v("创建管理员账户")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -t svn-server htpasswd -b /etc/subversion/passwd 用户名 密码\n")])])])]),t._v(" "),a("li",[a("p",[t._v("浏览器打开地址"),a("code",[t._v("http://ip:端口号/svn/")]),t._v("会提示输入账号密码，这里输入命令实验设定的账号密码验证是否正确。")])])]),t._v(" "),a("blockquote",[a("p",[t._v("所有的端口号都是上面的配置文件中映射容器内80端口的端口号,这里是13690,因为这是http的访问端口")])]),t._v(" "),a("ul",[a("li",[t._v("给映射到linux上的文件夹添加读写权限:"),a("code",[t._v("chmod -R 777 映射到linux上的文件夹地址,类似/opt/soft/svn")])]),t._v(" "),a("li",[t._v("浏览器打开："),a("code",[t._v("http://ip:端口号/svnadmin")]),t._v("，第一次进入会进行后台的配置管理，具体配置截图如下")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://s8.51cto.com/images/blog/202109/07/ccda17147821166b23035c7514dc9337.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=",alt:""}})]),t._v(" "),a("li",[t._v("以后你都可以直接访问 "),a("code",[t._v("http://ip:端口号/svnadmin/")]),t._v("进行操作了（仓库创建、用户创建、用户权限分配等）。")])]),t._v(" "),a("h2",{attrs:{id:"访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[t._v("#")]),t._v(" 访问")]),t._v(" "),a("ul",[a("li",[t._v("创建好的仓库记得去分配权限")]),t._v(" "),a("li",[t._v("但是除了分配权限外更重要的是仓库地址格式为:"),a("code",[t._v("http://IP:端口号/svn/仓库名")]),t._v(",例子为"),a("code",[t._v("http://192.168.7.131:13690/svn/remote-link-test/")]),t._v(",在IDEA的SVN插件中或者在"),a("code",[t._v("TortoiseSVN")]),t._v("软件中与外部仓库相连时就填这个格式的仓库地址才可以")])])])}),[],!1,null,null,null);s.default=n.exports}}]);