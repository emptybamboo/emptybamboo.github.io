(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{477:function(t,a,s){"use strict";s.r(a);var n=s(65),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"第二天的笔记-2019年7月2日-p4-p10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二天的笔记-2019年7月2日-p4-p10"}},[t._v("#")]),t._v(" 第二天的笔记,2019年7月2日,p4-p10")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("首先确定我们要做的项目的成果是什么样的")])]),t._v(" "),s("li",[s("p",[t._v("我们需要做一个讨论式的论坛,那么需要做的功能有如下几个")]),t._v(" "),s("ol",[s("li",[t._v("搜索栏")]),t._v(" "),s("li",[t._v("登录按钮")]),t._v(" "),s("li",[t._v("帖子展示")]),t._v(" "),s("li",[t._v("热门话题按回复数倒序排列")]),t._v(" "),s("li",[t._v("热心用户按回复数量倒序排列")]),t._v(" "),s("li",[t._v("分页栏")])])]),t._v(" "),s("li",[s("p",[t._v("那么最主要的第一个要做的部分,就是登录页面.")])])]),t._v(" "),s("h4",{attrs:{id:"样式通过bootstrap来做"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#样式通过bootstrap来做"}},[t._v("#")]),t._v(" 样式通过Bootstrap来做")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("首先下载Bootstrap,将其中的三个文件夹css/js/font复制到项目中的resources文件夹下的static文件夹下.")])]),t._v(" "),s("li",[s("p",[t._v("在index.html也就是我们设定的首页中引入必须引入的三个文件,从左侧菜单直接拖入右侧IDEA编辑区域即可.\n"),s("code",[t._v('<link rel="stylesheet" href="css/bootstrap.min.css"/> <link rel="stylesheet" href="css/bootstrap-theme.min.css" /> <script src="js/bootstrap.min.js" type="application/javascript"><\/script>')])])]),t._v(" "),s("li",[s("p",[t._v("将hello.html改为index.html用做我们的首页,然后去bootstrap里找到导航菜单直接复制进body中修改为我们想要的效果.")])]),t._v(" "),s("li",[s("p",[t._v("因为我们重新改写了原先的hello这个实验页面为index.html这个首页页面,所以把controller也需要改写为IndexController,@GetMapping注解后面为/的意思是这个就是根目录,任何东西都不输入默认访问这个路径(index这个模板).\n"),s("code",[t._v('@GetMapping("/") public String index(){ return "index"; }')])])]),t._v(" "),s("li",[s("p",[t._v("为了方便,我们使用接入Github的登陆功能.")])]),t._v(" "),s("li",[s("p",[t._v("进入Github网站底部的API,创建其中的OAuth App")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("ul",[s("li",[t._v("别忘了用git指令提交\n"),s("ol",[s("li",[t._v("可以先试用git status查看项目文件状态")]),t._v(" "),s("li",[t._v("然后使用git add .添加所有文件到本地仓库")]),t._v(" "),s("li",[t._v('然后git commit -m "add index and bootstrap" 最后的双引号里写的是备注')]),t._v(" "),s("li",[t._v("最后git push,就push到了我们git仓库")])])])])]),t._v(" "),s("ul",[s("li",[t._v("有个IDEA小技巧,如果一次想对相邻的多行做同样的修改操作,就按住alt然后从第一个想修改的行最左侧往下拉,会出现一条竖线,然后开始从第一行修改,每行就都会一样变化")]),t._v(" "),s("li",[t._v("根据视频"),s("a",{attrs:{href:"https://www.bilibili.com/video/av50200264/?p=7",target:"_blank",rel:"noopener noreferrer"}},[t._v("7、07 注册 Github App"),s("OutboundLink")],1),t._v("去进行OAuth APP的注册.")]),t._v(" "),s("li",[t._v("把登陆按钮绑定一个地址,点击登陆可以跳转到"),s("code",[t._v("http://github.com/login/oauth/authorize")]),t._v(",同时携带必传参数.")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://github.com/login/oauth/authorize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("第一个必传参数是client_id,在我们注册号OAuth APP的页面就有专属我们自己的这个id,在上一个登陆标签地址末尾加上?client_id=xxx.")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://github.com/login/oauth/authorize?client_id=ba4xxbe61"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("url中多个参数的时候,第一个参数用?区分,以后的参数都用&区分")])]),t._v(" "),s("ul",[s("li",[t._v("第二个是redirect_uri,是Github会自动跳转回来的地址,因为我们没有服务器去部署,所以尝试用一下本机("),s("code",[t._v("http://localhost:8887/callback")]),t._v(")看它是不是工作.")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://github.com/login/oauth/authorize?client_id=ba4xxxbe61&redirect_uri=http://localhost:8887/callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("第三个是login,这里先不填,不知道去写什么,并且它不是必填")]),t._v(" "),s("li",[t._v("第四个是scope,必填,这样就决定你当前授权的一个列表.获取到user即可.")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://github.com/login/oauth/authorize?client_id=ba4xxxbe61&redirect_uri=http://localhost:8887/callback&scope=user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("第五个是state,是一个随机的字符串,只是为了跨站时使用,所以就随机写一个就好.")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://github.com/login/oauth/authorize?client_id=ba4xxxbe61&redirect_uri=http://localhost:8887/callback&scope=user&state=1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[s("p",[t._v("第六个allow_signup也不是必填,所以现在这样应该就ok了.")])]),t._v(" "),s("li",[s("p",[t._v("现在可以启动项目")]),t._v(" "),s("ol",[s("li",[t._v("点击页面里的登录按钮")]),t._v(" "),s("li",[t._v("点击同意授权")]),t._v(" "),s("li",[t._v("输入密码登录Github")]),t._v(" "),s("li",[t._v("弹出404，但是我们是成功的，因为我们没有编写这个地址，但是可以通过浏览器看到它访问的是我的"),s("code",[t._v("http://localhost:8887/callback?code=1e1efda0531e9419f624&state=1")]),t._v("地址.文档中约定了它会给我们传回一个code,我们通过这个code去获取accesstoken,下一步就是我们去接收这个code.")])])]),t._v(" "),s("li",[s("p",[t._v("okhttp几行代码就完成了我们的get/post请求,比使用httpclient简单的多.")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);